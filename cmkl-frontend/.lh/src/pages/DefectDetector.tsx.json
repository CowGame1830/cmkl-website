{
    "sourceFile": "src/pages/DefectDetector.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 7,
            "patches": [
                {
                    "date": 1764425523994,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1764425532635,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -101,9 +101,9 @@\n \r\n   return (\r\n     <div className=\"defect-detector-container\">\r\n       <div className=\"detector-header\">\r\n-        <h1 className=\"text-4xl font-extrabold mb-4\">AI Defect Detection System</h1>\r\n+        <h1 >AI Defect Detection System</h1>\r\n         <p>Upload images and use custom prompts to detect specific defects</p>\r\n       </div>\r\n \r\n       <div className=\"detection-panel\">\r\n"
                },
                {
                    "date": 1764425543022,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -101,9 +101,9 @@\n \r\n   return (\r\n     <div className=\"defect-detector-container\">\r\n       <div className=\"detector-header\">\r\n-        <h1 >AI Defect Detection System</h1>\r\n+        <h1 className='text-red'>AI Defect Detection System</h1>\r\n         <p>Upload images and use custom prompts to detect specific defects</p>\r\n       </div>\r\n \r\n       <div className=\"detection-panel\">\r\n"
                },
                {
                    "date": 1764425548623,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -101,9 +101,9 @@\n \r\n   return (\r\n     <div className=\"defect-detector-container\">\r\n       <div className=\"detector-header\">\r\n-        <h1 className='text-red'>AI Defect Detection System</h1>\r\n+        <h1 className='text-red-100'>AI Defect Detection System</h1>\r\n         <p>Upload images and use custom prompts to detect specific defects</p>\r\n       </div>\r\n \r\n       <div className=\"detection-panel\">\r\n"
                },
                {
                    "date": 1764425554925,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -101,9 +101,9 @@\n \r\n   return (\r\n     <div className=\"defect-detector-container\">\r\n       <div className=\"detector-header\">\r\n-        <h1 className='text-red-100'>AI Defect Detection System</h1>\r\n+        <h1>AI Defect Detection System</h1>\r\n         <p>Upload images and use custom prompts to detect specific defects</p>\r\n       </div>\r\n \r\n       <div className=\"detection-panel\">\r\n"
                },
                {
                    "date": 1764426434262,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n import React, { useState, useRef } from 'react';\r\n import { defectDetections } from '../data/mockData';\r\n-import type { DefectDetection, Defect } from '../data/types';\r\n+import type { DefectDetection } from '../data/types';\r\n import { \r\n   Search, \r\n   CheckCircle, \r\n   Clock,\r\n@@ -75,18 +75,10 @@\n       fileInputRef.current.value = '';\r\n     }\r\n   };\r\n \r\n-  const getSeverityColor = (severity: Defect['severity']) => {\r\n-    switch (severity) {\r\n-      case 'critical': return 'text-red-700 bg-red-100';\r\n-      case 'high': return 'text-red-600 bg-red-50';\r\n-      case 'medium': return 'text-yellow-600 bg-yellow-50';\r\n-      case 'low': return 'text-green-600 bg-green-50';\r\n-      default: return 'text-gray-600 bg-gray-50';\r\n-    }\r\n-  };\r\n \r\n+\r\n   const getStatusIcon = (status: DefectDetection['status']) => {\r\n     switch (status) {\r\n       case 'completed': return <CheckCircle className=\"w-5 h-5 text-green-600\" />;\r\n       case 'processing': return <Clock className=\"w-5 h-5 text-yellow-600 animate-spin\" />;\r\n@@ -100,44 +92,95 @@\n   };\r\n \r\n   return (\r\n     <div className=\"defect-detector-container\">\r\n+      {/* Modern Header with Gradient */}\r\n       <div className=\"detector-header\">\r\n-        <h1>AI Defect Detection System</h1>\r\n-        <p>Upload images and use custom prompts to detect specific defects</p>\r\n+        <div className=\"header-content\">\r\n+          <div className=\"header-icon\">\r\n+            <Search className=\"icon-large\" />\r\n+          </div>\r\n+          <div className=\"header-text\">\r\n+            <h1>AI Defect Detection System</h1>\r\n+            <p>Advanced AI-powered quality control and defect identification</p>\r\n+          </div>\r\n+        </div>\r\n+        <div className=\"header-stats\">\r\n+          <div className=\"stat-card\">\r\n+            <span className=\"stat-number\">{results.length}</span>\r\n+            <span className=\"stat-label\">Analyses</span>\r\n+          </div>\r\n+          <div className=\"stat-card\">\r\n+            <span className=\"stat-number\">\r\n+              {results.filter(r => r.detectedDefects.length > 0).length}\r\n+            </span>\r\n+            <span className=\"stat-label\">Issues Found</span>\r\n+          </div>\r\n+        </div>\r\n       </div>\r\n \r\n+      {/* Modern Detection Panel */}\r\n       <div className=\"detection-panel\">\r\n+        <div className=\"panel-header\">\r\n+          <h2>Quality Analysis Setup</h2>\r\n+          <p>Configure your detection parameters and upload images for analysis</p>\r\n+        </div>\r\n+        \r\n         <div className=\"input-section\">\r\n-          <div className=\"prompt-input\">\r\n-            <label htmlFor=\"prompt\">Detection Prompt</label>\r\n-            <textarea\r\n-              id=\"prompt\"\r\n-              value={prompt}\r\n-              onChange={(e) => setPrompt(e.target.value)}\r\n-              placeholder=\"Enter what you want to detect (e.g., 'Detect surface scratches on metal components', 'Check for welding defects', 'Find cracks or dents')\"\r\n-              rows={3}\r\n-            />\r\n+          <div className=\"input-group prompt-group\">\r\n+            <div className=\"input-header\">\r\n+              <label htmlFor=\"prompt\">Detection Prompt</label>\r\n+              <span className=\"input-hint\">Be specific about defect types</span>\r\n+            </div>\r\n+            <div className=\"prompt-input-wrapper\">\r\n+              <textarea\r\n+                id=\"prompt\"\r\n+                value={prompt}\r\n+                onChange={(e) => setPrompt(e.target.value)}\r\n+                placeholder=\"Enter what you want to detect (e.g., 'Detect surface scratches on metal components', 'Check for welding defects', 'Find cracks or dents')\"\r\n+                rows={3}\r\n+                className=\"modern-textarea\"\r\n+              />\r\n+              <div className=\"character-counter\">\r\n+                {prompt.length}/500\r\n+              </div>\r\n+            </div>\r\n           </div>\r\n \r\n-          <div className=\"image-upload\">\r\n-            <label>Upload Image</label>\r\n-            <div className=\"upload-area\">\r\n+          <div className=\"input-group upload-group\">\r\n+            <div className=\"input-header\">\r\n+              <label>Upload Image</label>\r\n+              <span className=\"input-hint\">High-quality images work best</span>\r\n+            </div>\r\n+            <div className={`upload-area ${imagePreview ? 'has-image' : ''}`}>\r\n               {imagePreview ? (\r\n-                <div className=\"image-preview\">\r\n+                <div className=\"image-preview-modern\">\r\n                   <img src={imagePreview} alt=\"Preview\" />\r\n-                  <button onClick={clearImage} className=\"remove-image\">\r\n-                    <X className=\"w-4 h-4\" />\r\n-                  </button>\r\n+                  <div className=\"image-overlay\">\r\n+                    <button\r\n+                      className=\"remove-image-modern\"\r\n+                      onClick={clearImage}\r\n+                      type=\"button\"\r\n+                    >\r\n+                      <X size={16} />\r\n+                    </button>\r\n+                    <div className=\"image-info\">\r\n+                      <span className=\"image-name\">Uploaded Image</span>\r\n+                    </div>\r\n+                  </div>\r\n                 </div>\r\n               ) : (\r\n-                <div \r\n-                  className=\"upload-placeholder\"\r\n+                <div\r\n+                  className=\"upload-placeholder-modern\"\r\n                   onClick={() => fileInputRef.current?.click()}\r\n                 >\r\n-                  <FileImage className=\"w-8 h-8 text-gray-400\" />\r\n-                  <p>Click to upload image or drag and drop</p>\r\n-                  <p className=\"upload-hint\">PNG, JPG up to 10MB</p>\r\n+                  <div className=\"upload-icon\">\r\n+                    <FileImage size={32} />\r\n+                  </div>\r\n+                  <div className=\"upload-text\">\r\n+                    <p className=\"upload-primary\">Drop your image here or click to browse</p>\r\n+                    <p className=\"upload-secondary\">Supports PNG, JPG up to 10MB</p>\r\n+                  </div>\r\n                 </div>\r\n               )}\r\n               <input\r\n                 ref={fileInputRef}\r\n@@ -148,97 +191,130 @@\n               />\r\n             </div>\r\n           </div>\r\n \r\n-          <button \r\n-            onClick={handleAnalyze}\r\n-            disabled={!prompt.trim() || isAnalyzing}\r\n-            className=\"analyze-button\"\r\n-          >\r\n-            {isAnalyzing ? (\r\n-              <>\r\n-                <Clock className=\"w-4 h-4 animate-spin\" />\r\n-                Analyzing...\r\n-              </>\r\n-            ) : (\r\n-              <>\r\n-                <Search className=\"w-4 h-4\" />\r\n-                Start Analysis\r\n-              </>\r\n-            )}\r\n-          </button>\r\n+          <div className=\"action-group h-4\">\r\n+            <button\r\n+              className={`analyze-button-modern ${isAnalyzing ? 'analyzing' : ''}`}\r\n+              onClick={handleAnalyze}\r\n+              disabled={!prompt.trim() || isAnalyzing}\r\n+            >\r\n+              {isAnalyzing ? (\r\n+                <>\r\n+                  <Clock className=\"w-4 h-4 animate-spin\" />\r\n+                  <span>Analyzing...</span>\r\n+                </>\r\n+              ) : (\r\n+                <>\r\n+                  <Search className=\"w-4 h-4\" />\r\n+                  <span>Start Analysis</span>\r\n+                </>\r\n+              )}\r\n+            </button>\r\n+          </div>\r\n         </div>\r\n       </div>\r\n \r\n-      <div className=\"results-section\">\r\n-        <h2>Detection Results</h2>\r\n-        <div className=\"results-grid\">\r\n-          {results.map((result) => (\r\n-            <div key={result.id} className=\"result-card\">\r\n-              <div className=\"result-header\">\r\n-                <div className=\"result-status\">\r\n-                  {getStatusIcon(result.status)}\r\n-                  <span className=\"status-text\">{result.status}</span>\r\n+      {/* Modern Results Section */}\r\n+      {results.length > 0 && (\r\n+        <div className=\"results-section\">\r\n+          <div className=\"results-header\">\r\n+            <h2>Analysis Results</h2>\r\n+            <div className=\"results-summary\">\r\n+              {results.length} analysis{results.length !== 1 ? 'es' : ''} completed\r\n+            </div>\r\n+          </div>\r\n+          \r\n+          <div className=\"results-grid\">\r\n+            {results.map((result) => (\r\n+              <div key={result.id} className=\"result-card-modern\">\r\n+                <div className=\"result-header-modern\">\r\n+                  <div className=\"result-status-modern\">\r\n+                    <div className={`status-indicator ${result.status}`}>\r\n+                      {getStatusIcon(result.status)}\r\n+                    </div>\r\n+                    <div className=\"status-info\">\r\n+                      <span className=\"status-text-modern\">\r\n+                        {result.detectedDefects.length > 0 ? 'Issues Detected' : 'No Issues Found'}\r\n+                      </span>\r\n+                      <span className=\"result-time-modern\">{formatTime(result.timestamp)}</span>\r\n+                    </div>\r\n+                  </div>\r\n+                  <div className=\"confidence-badge\">\r\n+                    {Math.round(result.confidence * 100)}% confident\r\n+                  </div>\r\n                 </div>\r\n-                <div className=\"result-time\">{formatTime(result.timestamp)}</div>\r\n-              </div>\r\n \r\n-              <div className=\"result-content\">\r\n-                <div className=\"result-image\">\r\n-                  <img src={result.imageUrl} alt=\"Analyzed\" />\r\n-                  {result.detectedDefects.map((defect) => (\r\n-                    <div\r\n-                      key={defect.id}\r\n-                      className=\"defect-overlay\"\r\n-                      style={{\r\n-                        left: `${(defect.location.x / 400) * 100}%`,\r\n-                        top: `${(defect.location.y / 300) * 100}%`,\r\n-                        width: `${(defect.location.width / 400) * 100}%`,\r\n-                        height: `${(defect.location.height / 300) * 100}%`\r\n-                      }}\r\n-                      title={`${defect.type} - ${defect.description} (${Math.round(defect.confidence * 100)}%)`}\r\n-                    />\r\n-                  ))}\r\n-                </div>\r\n-\r\n-                <div className=\"result-details\">\r\n-                  <div className=\"prompt-display\">\r\n-                    <strong>Prompt:</strong> {result.prompt}\r\n-                  </div>\r\n-                  <div className=\"confidence-display\">\r\n-                    <strong>Overall Confidence:</strong> {Math.round(result.confidence * 100)}%\r\n-                  </div>\r\n-                  \r\n-                  {result.detectedDefects.length > 0 ? (\r\n-                    <div className=\"defects-list\">\r\n-                      <strong>Detected Defects:</strong>\r\n+                <div className=\"result-content-modern\">\r\n+                  <div className=\"result-image-modern\">\r\n+                    <img src={result.imageUrl} alt=\"Analyzed\" />\r\n+                    <div className=\"defect-overlays\">\r\n                       {result.detectedDefects.map((defect) => (\r\n-                        <div key={defect.id} className=\"defect-item\">\r\n-                          <div className=\"defect-header\">\r\n-                            <span className=\"defect-type\">{defect.type}</span>\r\n-                            <span className={`defect-severity ${getSeverityColor(defect.severity)}`}>\r\n-                              {defect.severity}\r\n-                            </span>\r\n-                          </div>\r\n-                          <p className=\"defect-description\">{defect.description}</p>\r\n-                          <div className=\"defect-confidence\">\r\n-                            Confidence: {Math.round(defect.confidence * 100)}%\r\n-                          </div>\r\n-                        </div>\r\n+                        <div\r\n+                          key={defect.id}\r\n+                          className={`defect-overlay-modern severity-${defect.severity}`}\r\n+                          style={{\r\n+                            left: `${(defect.location.x / 400) * 100}%`,\r\n+                            top: `${(defect.location.y / 300) * 100}%`,\r\n+                            width: `${(defect.location.width / 400) * 100}%`,\r\n+                            height: `${(defect.location.height / 300) * 100}%`\r\n+                          }}\r\n+                          title={`${defect.type} - ${defect.severity} severity`}\r\n+                        />\r\n                       ))}\r\n                     </div>\r\n-                  ) : (\r\n-                    <div className=\"no-defects\">\r\n-                      <CheckCircle className=\"w-5 h-5 text-green-600\" />\r\n-                      No defects detected\r\n+                    {result.detectedDefects.length > 0 && (\r\n+                      <div className=\"defect-count-badge\">\r\n+                        {result.detectedDefects.length} issue{result.detectedDefects.length !== 1 ? 's' : ''}\r\n+                      </div>\r\n+                    )}\r\n+                  </div>\r\n+\r\n+                  <div className=\"result-details-modern\">\r\n+                    <div className=\"prompt-display-modern\">\r\n+                      <h4>Analysis Prompt</h4>\r\n+                      <p>{result.prompt}</p>\r\n                     </div>\r\n-                  )}\r\n+                    \r\n+                    <div className=\"defects-section\">\r\n+                      <h4>\r\n+                        Detected Issues \r\n+                        <span className=\"issue-count\">({result.detectedDefects.length})</span>\r\n+                      </h4>\r\n+                      \r\n+                      {result.detectedDefects.length > 0 ? (\r\n+                        <div className=\"defects-list-modern\">\r\n+                          {result.detectedDefects.map((defect) => (\r\n+                            <div key={defect.id} className=\"defect-item-modern\">\r\n+                              <div className=\"defect-main\">\r\n+                                <div className=\"defect-header-modern\">\r\n+                                  <span className=\"defect-type-modern\">{defect.type}</span>\r\n+                                  <span className={`defect-severity-modern severity-${defect.severity}`}>\r\n+                                    {defect.severity}\r\n+                                  </span>\r\n+                                </div>\r\n+                                <p className=\"defect-description-modern\">{defect.description}</p>\r\n+                              </div>\r\n+                              <div className=\"defect-confidence-modern\">\r\n+                                {Math.round(defect.confidence * 100)}%\r\n+                              </div>\r\n+                            </div>\r\n+                          ))}\r\n+                        </div>\r\n+                      ) : (\r\n+                        <div className=\"no-defects-modern\">\r\n+                          <CheckCircle size={20} />\r\n+                          <span>No defects detected - Quality check passed</span>\r\n+                        </div>\r\n+                      )}\r\n+                    </div>\r\n+                  </div>\r\n                 </div>\r\n               </div>\r\n-            </div>\r\n-          ))}\r\n+            ))}\r\n+          </div>\r\n         </div>\r\n-      </div>\r\n+      )}\r\n     </div>\r\n   );\r\n };\r\n \r\n"
                },
                {
                    "date": 1764426450632,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -191,9 +191,9 @@\n               />\r\n             </div>\r\n           </div>\r\n \r\n-          <div className=\"action-group h-4\">\r\n+          <div className=\"action-group m-4\">\r\n             <button\r\n               className={`analyze-button-modern ${isAnalyzing ? 'analyzing' : ''}`}\r\n               onClick={handleAnalyze}\r\n               disabled={!prompt.trim() || isAnalyzing}\r\n"
                },
                {
                    "date": 1764426720370,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -191,9 +191,9 @@\n               />\r\n             </div>\r\n           </div>\r\n \r\n-          <div className=\"action-group m-4\">\r\n+          <div className=\"action-group mt-4\">\r\n             <button\r\n               className={`analyze-button-modern ${isAnalyzing ? 'analyzing' : ''}`}\r\n               onClick={handleAnalyze}\r\n               disabled={!prompt.trim() || isAnalyzing}\r\n"
                }
            ],
            "date": 1764425523994,
            "name": "Commit-0",
            "content": "import React, { useState, useRef } from 'react';\r\nimport { defectDetections } from '../data/mockData';\r\nimport type { DefectDetection, Defect } from '../data/types';\r\nimport { \r\n  Search, \r\n  CheckCircle, \r\n  Clock,\r\n  FileImage,\r\n  X\r\n} from 'lucide-react';\r\nimport './DefectDetector.css';\r\n\r\nconst DefectDetector: React.FC = () => {\r\n  const [prompt, setPrompt] = useState('');\r\n  const [imagePreview, setImagePreview] = useState<string | null>(null);\r\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\r\n  const [results, setResults] = useState<DefectDetection[]>(defectDetections);\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  const handleImageUpload = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = event.target.files?.[0];\r\n    if (file) {\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        setImagePreview(e.target?.result as string);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  const handleAnalyze = async () => {\r\n    if (!prompt.trim()) {\r\n      alert('Please enter a detection prompt');\r\n      return;\r\n    }\r\n\r\n    setIsAnalyzing(true);\r\n    \r\n    // Simulate AI analysis\r\n    setTimeout(() => {\r\n      const mockResult: DefectDetection = {\r\n        id: `detect-${Date.now()}`,\r\n        prompt: prompt,\r\n        imageUrl: imagePreview || 'https://images.unsplash.com/photo-1581092795706-519d8c0c1fd0?w=400&h=300&fit=crop',\r\n        detectedDefects: [\r\n          {\r\n            id: `defect-${Date.now()}`,\r\n            type: 'Surface Anomaly',\r\n            description: `Detected based on prompt: \"${prompt}\"`,\r\n            severity: Math.random() > 0.7 ? 'high' : Math.random() > 0.4 ? 'medium' : 'low',\r\n            location: {\r\n              x: Math.floor(Math.random() * 300),\r\n              y: Math.floor(Math.random() * 200),\r\n              width: Math.floor(Math.random() * 100) + 50,\r\n              height: Math.floor(Math.random() * 50) + 25\r\n            },\r\n            confidence: Math.random() * 0.3 + 0.7 // 0.7 to 1.0\r\n          }\r\n        ],\r\n        timestamp: new Date().toISOString(),\r\n        confidence: Math.random() * 0.3 + 0.7,\r\n        status: 'completed'\r\n      };\r\n\r\n      setResults(prev => [mockResult, ...prev]);\r\n      setIsAnalyzing(false);\r\n      setPrompt('');\r\n      setImagePreview(null);\r\n    }, 3000);\r\n  };\r\n\r\n  const clearImage = () => {\r\n    setImagePreview(null);\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.value = '';\r\n    }\r\n  };\r\n\r\n  const getSeverityColor = (severity: Defect['severity']) => {\r\n    switch (severity) {\r\n      case 'critical': return 'text-red-700 bg-red-100';\r\n      case 'high': return 'text-red-600 bg-red-50';\r\n      case 'medium': return 'text-yellow-600 bg-yellow-50';\r\n      case 'low': return 'text-green-600 bg-green-50';\r\n      default: return 'text-gray-600 bg-gray-50';\r\n    }\r\n  };\r\n\r\n  const getStatusIcon = (status: DefectDetection['status']) => {\r\n    switch (status) {\r\n      case 'completed': return <CheckCircle className=\"w-5 h-5 text-green-600\" />;\r\n      case 'processing': return <Clock className=\"w-5 h-5 text-yellow-600 animate-spin\" />;\r\n      case 'failed': return <X className=\"w-5 h-5 text-red-600\" />;\r\n      default: return <Clock className=\"w-5 h-5 text-gray-600\" />;\r\n    }\r\n  };\r\n\r\n  const formatTime = (timestamp: string) => {\r\n    return new Date(timestamp).toLocaleString('th-TH');\r\n  };\r\n\r\n  return (\r\n    <div className=\"defect-detector-container\">\r\n      <div className=\"detector-header\">\r\n        <h1 className=\"text-4xl font-extrabold mb-4\">AI Defect Detection System</h1>\r\n        <p>Upload images and use custom prompts to detect specific defects</p>\r\n      </div>\r\n\r\n      <div className=\"detection-panel\">\r\n        <div className=\"input-section\">\r\n          <div className=\"prompt-input\">\r\n            <label htmlFor=\"prompt\">Detection Prompt</label>\r\n            <textarea\r\n              id=\"prompt\"\r\n              value={prompt}\r\n              onChange={(e) => setPrompt(e.target.value)}\r\n              placeholder=\"Enter what you want to detect (e.g., 'Detect surface scratches on metal components', 'Check for welding defects', 'Find cracks or dents')\"\r\n              rows={3}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"image-upload\">\r\n            <label>Upload Image</label>\r\n            <div className=\"upload-area\">\r\n              {imagePreview ? (\r\n                <div className=\"image-preview\">\r\n                  <img src={imagePreview} alt=\"Preview\" />\r\n                  <button onClick={clearImage} className=\"remove-image\">\r\n                    <X className=\"w-4 h-4\" />\r\n                  </button>\r\n                </div>\r\n              ) : (\r\n                <div \r\n                  className=\"upload-placeholder\"\r\n                  onClick={() => fileInputRef.current?.click()}\r\n                >\r\n                  <FileImage className=\"w-8 h-8 text-gray-400\" />\r\n                  <p>Click to upload image or drag and drop</p>\r\n                  <p className=\"upload-hint\">PNG, JPG up to 10MB</p>\r\n                </div>\r\n              )}\r\n              <input\r\n                ref={fileInputRef}\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                onChange={handleImageUpload}\r\n                style={{ display: 'none' }}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <button \r\n            onClick={handleAnalyze}\r\n            disabled={!prompt.trim() || isAnalyzing}\r\n            className=\"analyze-button\"\r\n          >\r\n            {isAnalyzing ? (\r\n              <>\r\n                <Clock className=\"w-4 h-4 animate-spin\" />\r\n                Analyzing...\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Search className=\"w-4 h-4\" />\r\n                Start Analysis\r\n              </>\r\n            )}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"results-section\">\r\n        <h2>Detection Results</h2>\r\n        <div className=\"results-grid\">\r\n          {results.map((result) => (\r\n            <div key={result.id} className=\"result-card\">\r\n              <div className=\"result-header\">\r\n                <div className=\"result-status\">\r\n                  {getStatusIcon(result.status)}\r\n                  <span className=\"status-text\">{result.status}</span>\r\n                </div>\r\n                <div className=\"result-time\">{formatTime(result.timestamp)}</div>\r\n              </div>\r\n\r\n              <div className=\"result-content\">\r\n                <div className=\"result-image\">\r\n                  <img src={result.imageUrl} alt=\"Analyzed\" />\r\n                  {result.detectedDefects.map((defect) => (\r\n                    <div\r\n                      key={defect.id}\r\n                      className=\"defect-overlay\"\r\n                      style={{\r\n                        left: `${(defect.location.x / 400) * 100}%`,\r\n                        top: `${(defect.location.y / 300) * 100}%`,\r\n                        width: `${(defect.location.width / 400) * 100}%`,\r\n                        height: `${(defect.location.height / 300) * 100}%`\r\n                      }}\r\n                      title={`${defect.type} - ${defect.description} (${Math.round(defect.confidence * 100)}%)`}\r\n                    />\r\n                  ))}\r\n                </div>\r\n\r\n                <div className=\"result-details\">\r\n                  <div className=\"prompt-display\">\r\n                    <strong>Prompt:</strong> {result.prompt}\r\n                  </div>\r\n                  <div className=\"confidence-display\">\r\n                    <strong>Overall Confidence:</strong> {Math.round(result.confidence * 100)}%\r\n                  </div>\r\n                  \r\n                  {result.detectedDefects.length > 0 ? (\r\n                    <div className=\"defects-list\">\r\n                      <strong>Detected Defects:</strong>\r\n                      {result.detectedDefects.map((defect) => (\r\n                        <div key={defect.id} className=\"defect-item\">\r\n                          <div className=\"defect-header\">\r\n                            <span className=\"defect-type\">{defect.type}</span>\r\n                            <span className={`defect-severity ${getSeverityColor(defect.severity)}`}>\r\n                              {defect.severity}\r\n                            </span>\r\n                          </div>\r\n                          <p className=\"defect-description\">{defect.description}</p>\r\n                          <div className=\"defect-confidence\">\r\n                            Confidence: {Math.round(defect.confidence * 100)}%\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"no-defects\">\r\n                      <CheckCircle className=\"w-5 h-5 text-green-600\" />\r\n                      No defects detected\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DefectDetector;"
        }
    ]
}